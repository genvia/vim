### Introduction  
My vimrc.  
Most used languages: C/C++, Golang, Python2/Python3, Java/Scala, Shell, Lua, Rust, PHP  
  
### Plugins  
- [google/vim-maktaba](https://github.com/google/vim-maktaba)                            Maktaba is a vim script plugin library  
- [google/vim-glaive](https://github.com/google/vim-glaive)                              Glaive is a utility for configuring maktaba plugins  
- [google/vim-codefmt](https://github.com/google/vim-codefmt)                            codefmt is a utility for syntax-aware code formatting(Support: Bazel,c,cc,Dart,css,go,java,python...)  
- [niumeng07/vim-colorschemes](https://github.com/niumeng07/vim-colorschemes)  
- [Lokaltog/vim-easymotion](https://github.com/Lokaltog/vim-easymotion)  
- [Yggdroot/indentLine](https://github.com/Yggdroot/indentLine)  
- [godlygeek/tabular](https://github.com/godlygeek/tabular)                              align tool, must come before plasticboy/vim-markdown  
- [plasticboy/vim-markdown](https://github.com/plasticboy/vim-markdown)  
- [iamcco/mathjax-support-for-mkdp](https://github.com/iamcco/mathjax-support-for-mkdp)  MathJax support for markdown-preview.vim  
- [iamcco/markdown-preview.vim](https://github.com/iamcco/markdown-preview.vim)  
- [fatih/vim-go](https://github.com/fatih/vim-go)  
- [nsf/gocode](https://github.com/nsf/gocode)  
- [derekwyatt/vim-scala](https://github.com/derekwyatt/vim-scala)  
- [niumeng07/vim-snippets](https://github.com/niumeng07/vim-snippets)  
- [junegunn/fzf](https://github.com/junegunn/fzf)  
- [Yggdroot/LeaderF](https://github.com/Yggdroot/LeaderF)  
- [skywind3000/asyncrun.vim](https://github.com/skywind3000/asyncrun.vim)  
- [liuchengxu/vim-which-key](https://github.com/liuchengxu/vim-which-key)  
- [skywind3000/quickmenu.vim](https://github.com/skywind3000/quickmenu.vim)  
- [neoclide/coc.nvim](https://github.com/neoclide/coc.nvim)  
- [Shougo/neco-vim](https://github.com/Shougo/neco-vim)                                  neco-vim is the framework for coc.nvim  
- [neoclide/coc-neco](https://github.com/neoclide/coc-neco)                              vim completion source for coc.nvim  
- [sheerun/vim-polyglot](https://github.com/sheerun/vim-polyglot)                        A collection of language packs for Vim  
- [mg979/vim-visual-multi](https://github.com/mg979/vim-visual-multi)  
- [terryma/vim-smooth-scroll](https://github.com/terryma/vim-smooth-scroll)  
- [tpope/vim-fugitive](https://github.com/tpope/vim-fugitive)                            Git command tool  
- [vim-scripts/DoxygenToolkit.vim](https://github.com/vim-scripts/DoxygenToolkit.vim)  
- [voldikss/vim-floaterm.git](https://github.com/voldikss/vim-floaterm.git)  
- [t9md/vim-choosewin](https://github.com/t9md/vim-choosewin.git)  
- [liuchengxu/vista.vim](https://github.com/liuchengxu/vista.vim)  
- [vim-scripts/a.vim](https://github.com/vim-scripts/a.vim)  
- [rizzatti/dash.vim](https://github.com/rizzatti/dash.vim)  
- [scrooloose/nerdcommenter](https://github.com/scrooloose/nerdcommenter)  
- [ervandew/supertab](https://github.com/ervandew/supertab)                              All complete in <TAB>  
- [vim-airline/vim-airline](https://github.com/vim-airline/vim-airline)  
- [vim-airline/vim-airline-themes](https://github.com/vim-airline/vim-airline-themes)  
  
### Plugins deprecated  
- [gmarik/vundle](https://github.com/gmarik/vundle)                                  Use plugin instead.  
- [vim-scripts/L9](https://github.com/vim-scripts/L9)                                Vim-script library, Use vim-maktaba instead.  
- [majutsushi/tagbar](https://github.com/majutsushi/tagbar)                          Use vista instead.  
- [Valloric/YouCompleteMe](https://github.com/Valloric/YouCompleteMe)                Use coc-language-server/tabnine instead.  
- [scrooloose/nerdtree](https://github.com/scrooloose/nerdtree)                      Use coc-explorer instead.  
- [Shougo/defx.nvim](https://github.com/Shougo/defx.nvim)                            Use coc-explorer instead.  
- [kristijanhusak/defx-icons](https://github.com/kristijanhusak/defx-icons)  
- [roxma/nvim-yarp](https://github.com/roxma/nvim-yarp)  
- [roxma/vim-hug-neovim-rpc](https://github.com/roxma/vim-hug-neovim-rpc)  
- [mattn/emmet-vim](https://github.com/mattn/emmet-vim)                              Use coc-emmet instead.  
- [artur-shaik/vim-javacomplete2](https://github.com/artur-shaik/vim-javacomplete2)  Use coc-metals instead.  
- [SirVer/ultisnips](https://github.com/SirVer/ultisnips)  
- [CodeFalling/fcitx-vim-osx](https://github.com/CodeFalling/fcitx-vim-osx)  
- [hecal3/vim-leader-guide](https://github.com/hecal3/vim-leader-guide)  
- [mhinz/vim-signify](https://github.com/mhinz/vim-signify)  
- [airblade/vim-gitgutter](https://github.com/airblade/vim-gitgutter)                Use vim-fugitive instead.  
- [gregsexton/gitv](https://github.com/gregsexton/gitv)                              Use vim-fugitive instead.  
- [python-mode/python-mode](https://github.com/python-mode/python-mode)  
- [terryma/vim-expand-region](https://github.com/terryma/vim-expand-region)  
- [tell-k/vim-autopep8](https://github.com/tell-k/vim-autopep8)                      Use coc-format/code-formatter instead  
- [liuchengxu/vim-clap](https://github.com/liuchengxu/vim-clap)                      Use Leaderf + rg + git-fugitive instead  
- [rking/ag.vim](https://github.com/rking/ag.vim)                                    Use rg instead  
- [Shougo/neoinclude.vim](https://github.com/Shougo/neoinclude.vim)                  neoinclude is the framework for neocomplete/deoplete/ncm  
- [jsfaint/coc-neoinclude](https://github.com/jsfaint/coc-neoinclude)                neoinclude completion source for coc.nvim  
- [Raimondi/delimitMate](https://github.com/Raimondi/delimitMate)                    Use coc-pairs instead  
- [tpope/vim-dispatch](https://github.com/tpope/vim-dispatch)                        Use asyncrun instead  
- [zxqfl/tabnine-vim](https://github.com/zxqfl/tabnine-vim)                          Use too much CPU. Use coc-tabnine and language-server instead.
- [dense-analysis/ale](https://github.com/dense-analysis/ale)                        Asynchronous Lint Engine, Use coc-language-server instead  
  
### Install  
Install with vim-plug.  
```sh  
cd ~ && /bin/rm -rf .vim && git clone https://github.com/niumeng07/vim.git .vim  
cd .vim && git submodule update --init --recursive  
vim +PlugInstall  
wget https://github.com/google/google-java-format/releases/download/google-java-format-1.7/google-java-format-1.7-all-deps.jar ./.vim/deps/format  
```  
  
### third-party  
1. go support  
```sh
vim +GoInstallBinaries
echo "export GOPATH=$GOPATH:~/.vim/plugged/vim-go/binary" >> ~/.bash_profile
echo "export GOROOT=\"/usr/local/opt/go/libexec\"" >>  ~/.bash_profile
echo "export PATH=\"$GOROOT/bin/:$PATH\"" >> ~/.bash_profile
go get -u github.com/sourcegraph/go-langserver
go get -u github.com/mdempsky/gocode  # don't use nsf/gocode
echo "export PATH=$PATH:~/.vim/plugged/vim-go/binary/bin" >> ~/.bash_profile
npm i -g neovim
```
  
2. support for ag  
```sh
brew install the_silver_searcher
# For Ubuntu, apt-get install the_silver_searcher
# For CentOS, yum install the_silver_searcher
```
  
3. Install deps of coc.  
```sh
curl -sL install-node.now.sh/lts | sh
```
yarn is necessary if install coc from source.  
```sh
alias vim="PATH=$HOME/.vim/deps/yarn/bin:$PATH vim"
$HOME/.vim/deps/yarn/bin/yarn add coc-json coc-snippets
```
If coc can't find package.json, delete ~/.config/coc/extensions/node_modules/* and reinstall coc-plugins.
```sh
vim -c "PlugUpdate"
vim -c "CocInstall coc-calc coc-ccls coc-css coc-dictionary coc-emmet coc-explorer coc-floaterm coc-git coc-go coc-gocode coc-html|q"
vim -c "CocInstall coc-java coc-json coc-lists coc-marketplace coc-metals coc-neosnippet coc-omni coc-pairs coc-phpls coc-prettier coc-python|q"
vim -c "CocInstall coc-rls coc-sh coc-snippets coc-solargraph coc-syntax coc-tag coc-translator coc-tslint coc-tsserver coc-ultisnips|q"
vim -c "CocInstall coc-vetur coc-vimlsp coc-word coc-xml coc-yaml coc-yank|q"
vim -c "CocInstall coc-tabnine " # Too much cpu used.
vim -c 'CocUpdateSync|q'
# CocInstall coc-highlight # call Node, too much CPU used.
```
Try build coc if errors found following coc updates.
```sh
cd ~/.vim/plugged/coc.nvim && $HOME/.vim/deps/yarn/bin/yarn install --frozen-lockfile && cd -
```
Or config in plugin configs.  
```vim
Plug 'neoclide/coc.nvim', {'branch': 'master', 'do': 'yarn install --frozen-lockfile'}
```

4. Python support  
```sh
# vim -c "CocInstall coc-python" # Too much CPU used.
```

5. C++ support  
```sh
brew install ccls
sudo pip3 install --no-binary :all: pynvim --force
cd ~/.config/coc/extensions/node_modules/coc-ccls
ln -s node_modules/ws/lib lib
```
  
6. Scala support  
```sh
cd ~/.vim/
curl -L -o deps/coursier/coursier https://git.io/coursier
chmod +x deps/coursier/coursier
./deps/coursier/coursier bootstrap \
  --java-opt -Xss4m \
  --java-opt -Xms100m \
  --java-opt -Dmetals.client=coc.nvim \
  org.scalameta:metals_2.12:0.7.6 \
  -r bintray:scalacenter/releases \
  -r sonatype:snapshots \
  -o /usr/local/bin/metals-vim -f
```
  
7. ctags is neccessary for Visata  
install ctags from brew  
```sh
brew install --HEAD --with-jansson universal-ctags/universal-ctags/universal-ctags
```
or build from source  
```sh
git clone https://github.com/universal-ctags/ctags.git
cd ctags
./autogen.sh
./configure
make
sudo make install
```

8. floaterm for neovim  
```sh
pip3 install neovim-remote
ln -s /usr/local/Cellar/python/3.7.7/Frameworks/Python.framework/Versions/3.7/bin/nvr /usr/local/bin/nvr
```
  
9. Other Language Support  
```sh
npm i -g sql-language-server  
npm i -g bash-language-server  
go get github.com/mattn/efm-langserver  
sudo pip3 install cmake-language-server
npm install -g dockerfile-language-server-nodejs
sudo pip install 'python-language-server[all]'
sudo pip3 install 'python-language-server[all]'
```
  
